{
  "name": "exit-on-epipe",
  "version": "0.0.1",
  "author": {
    "name": "sheetjs"
  },
  "description": "Cleanly exit process on EPIPE",
  "keywords": [
    "epipe",
    "pipe",
    "error",
    "exit"
  ],
  "main": "./exit-on-epipe",
  "dependencies": {},
  "devDependencies": {
    "mocha": ""
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/SheetJS/node-exit-on-epipe.git"
  },
  "scripts": {
    "test": "make test"
  },
  "bugs": {
    "url": "https://github.com/SheetJS/node-exit-on-epipe/issues"
  },
  "license": "Apache-2.0",
  "engines": {
    "node": ">=0.8"
  },
  "readme": "# exit-on-epipe\n\nCleanly exit on pipe errors in NodeJS scripts.\n\nThese errors are common in pipelines that involve NodeJS scripts. For example,\ntake a simple script that prints out 10 lines:\n\n```js\nfor(var i = 0; i < 10; ++i) console.log(i)\n```\n\nNodeJS will print an error message if the output is truncated:\n\n```\n$ cat t.js\nfor(var i = 0; i < 10; ++i) console.log(i)\n$ node t.js  | head -n 1\n0\nevents.js:141\n      throw er; // Unhandled 'error' event\n      ^\n\nError: write EPIPE\n    at Object.exports._errnoException (util.js:856:11)\n    at exports._exceptionWithHostPort (util.js:879:20)\n    at WriteWrap.afterWrite (net.js:763:14)\n```\n\nThe process will cleanly exit if you require the module:\n\n```\n$ cat t.js\nrequire(\"exit-on-epipe\");\nfor(var i = 0; i < 10; ++i) console.log(i)\n$ node t.js  | head -n 1\n0\n```\n\n## Installation\n\nWith [npm](https://www.npmjs.org/package/exit-on-epipe):\n\n    $ npm install exit-on-epipe\n\n## Usage\n\nFor basic scripts, requiring at the top of the source file suffices:\n\n```js\nrequire('exit-on-epipe');\n// ... rest of source\n```\n\nFor more advanced situations (e.g. handing other streams), call the module:\n\n```js\nvar EOE = require('exit-on-epipe');\nEOE(my_stream);             // will exit process on an EPIPE error on my_stream\nEOE(my_stream, my_handler); // will call my_handler() instead of process.exit\n```\n\n## Interface\n\nThe module exports a single function (exposed as the variable `eoepipe`).\n\n`eoepipe(stream, bail)` will attach an error handler to `stream` which will:\n\n- call the `bail` function if the error `.code` or `.errno` is `\"EPIPE\"`\n- defer to the default behavior if there are no other error handlers\n- noop if the error is not `EPIPE` and if there are other error handlers\n\nIf the `bail` function is not specified, `process.exit` is used.\n\nIf the `stream` parameter is not specified, no action will be taken\n\n## Notes\n\nThe script will not perform any action if `process` or `process.stdout` are not\navailable.  It is safe to use in a web page.\n\n## License\n\nPlease consult the attached LICENSE file for details.  All rights not explicitly\ngranted by the Apache 2.0 license are reserved by the Original Author.\n\n## Badges\n\n[![Build Status](https://travis-ci.org/SheetJS/node-exit-on-epipe.svg?branch=master)](https://travis-ci.org/SheetJS/node-exit-on-epipe)\n\n[![Analytics](https://ga-beacon.appspot.com/UA-36810333-1/SheetJS/node-exit-on-epipe?pixel)](https://github.com/SheetJS/node-exit-on-epipe)\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/SheetJS/node-exit-on-epipe",
  "_id": "exit-on-epipe@0.0.1",
  "_from": "exit-on-epipe@"
}
